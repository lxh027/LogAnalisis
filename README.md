# LogAnalisis
###简介
>使用python实现日志解析器，并存入数据库MySQL中，然后在PHP端完成浏览解析后的日志以及按字段搜索功能。基本实现test要求的功能。

###使用工具
* 日志解析器：python 2.7 
* MySQL：5.7.23
* 用户端：PHP7.2以及ThinkPHP3.2
* 显示分页：bootstrap美化（因为直接调用官方网络库，使用需要联网，不然很丑）

###具体介绍
####1. 日志解析端
* 将所需的日志文件(*.log)以及格式文件(*.log.format)放入同级目录下的data文件夹中，运行FormatAnalisis.py文件，即可将日志文件按指定格式注入到数据库loganalisis中。
* 如果数据库中没有loganalisis这个数据库，在第一次运行时，会自动生成这个数据库。
####2. 数据库说明
* 数据库用户名为root，密码为空，数据库名为loganalisis。
* 数据库中的日志解析表会在python程序运行时自动生成。
* 数据库中，需要手动加入可登录解析端的用户表user，内含三个字段，分别为id(自动增量)、name(用户名，小于20个字)、password(密码，小于20个字)。
####3. PHP端
* 存放在web_tp文件夹内
* 一共存在四个界面，分别为登录，选择数据表，显示数据表及搜索，搜索结果。
* 在本地服务器运行后，即可进入登录界面，输入数据表user内的用户名和密码即可登录。
* 登录成功后，出现选择数据表的界面，在下拉表单中选择完成后，可到下一界面进行搜索与查看。
* 实现分页功能，每页100条数据，搜索框为下拉表单的字段以及输入的查找内容。支持模糊查找以及空查找。
* 查找显示界面同样实现分页功能，同时显示搜索时间与搜索到的条数。

###最后
>我果然是太菜了，代码写得不好看，逻辑也没写好。基本实现了test的功能要求，整个文件夹内还有一个web文件夹，是解析端一开始的版本，写的惨不忍睹，后来找了tp3.2的框架移植了进去。过了hackday又对tp5.0的框架基本了解，但是没有时间移植了。希望不会被清退，我觉得我还有救......
